'use strict';var E="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,e){if(d==Array.prototype||d==Object.prototype)return d;d[c]=e.value;return d};function G(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<d.length;++c){var e=d[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var H=G(this);
function I(d,c){if(c)a:{var e=H;d=d.split(".");for(var a=0;a<d.length-1;a++){var b=d[a];if(!(b in e))break a;e=e[b]}d=d[d.length-1];a=e[d];c=c(a);c!=a&&null!=c&&E(e,d,{configurable:!0,writable:!0,value:c})}}I("Array.prototype.includes",function(d){return d?d:function(c,e){var a=this;a instanceof String&&(a=String(a));var b=a.length;e=e||0;for(0>e&&(e=Math.max(e+b,0));e<b;e++){var l=a[e];if(l===c||Object.is(l,c))return!0}return!1}});
function J(){return{Y:[["",0],["Fours or Better Pair",1],["Two Pair",2],["Three of a Kind",3],["Straight",4],["Flush",6],["Full House",9],["Four of a Kind",12],["Straight Flush",15],["Royal Flush",18]],K:"23456789tjqka".split(""),ja:["s","h","c","d"],S:{s:"#1F191B",c:"#1F191B",h:"#CB1728",d:"#CB1728"},ia:{as:"\ud83c\udca1",ah:"\ud83c\udcb1",ad:"\ud83c\udcc1",ac:"\ud83c\udcd1","2s":"\ud83c\udca2","2h":"\ud83c\udcb2","2d":"\ud83c\udcc2","2c":"\ud83c\udcd2","3s":"\ud83c\udca3","3h":"\ud83c\udcb3","3d":"\ud83c\udcc3",
"3c":"\ud83c\udcd3","4s":"\ud83c\udca4","4h":"\ud83c\udcb4","4d":"\ud83c\udcc4","4c":"\ud83c\udcd4","5s":"\ud83c\udca5","5h":"\ud83c\udcb5","5d":"\ud83c\udcc5","5c":"\ud83c\udcd5","6s":"\ud83c\udca6","6h":"\ud83c\udcb6","6d":"\ud83c\udcc6","6c":"\ud83c\udcd6","7s":"\ud83c\udca7","7h":"\ud83c\udcb7","7d":"\ud83c\udcc7","7c":"\ud83c\udcd7","8s":"\ud83c\udca8","8h":"\ud83c\udcb8","8d":"\ud83c\udcc8","8c":"\ud83c\udcd8","9s":"\ud83c\udca9","9h":"\ud83c\udcb9","9d":"\ud83c\udcc9","9c":"\ud83c\udcd9",ts:"\ud83c\udcaa",
th:"\ud83c\udcba",td:"\ud83c\udcca",tc:"\ud83c\udcda",js:"\ud83c\udcab",jh:"\ud83c\udcbb",jd:"\ud83c\udccb",jc:"\ud83c\udcdb",qs:"\ud83c\udcad",qh:"\ud83c\udcbd",qd:"\ud83c\udccd",qc:"\ud83c\udcdd",ks:"\ud83c\udcae",kh:"\ud83c\udcbe",kd:"\ud83c\udcce",kc:"\ud83c\udcde"}}};CanvasRenderingContext2D.prototype.L=function(d,c,e,a,b){e<2*b&&(b=e/2);a<2*b&&(b=a/2);this.beginPath();this.moveTo(d+b,c);this.arcTo(d+e,c,d+e,c+a,b);this.arcTo(d+e,c+a,d,c+a,b);this.arcTo(d,c+a,d,c,b);this.arcTo(d,c,d+e,c,b);this.closePath()};
const N=M(),ba=function(d){function c(){m=411;u=!0;t.C();v.a("");r.a("");a();l();C.Z()}function e(){z=d.subscribe(k);f.f(!0);t.f(!0)}function a(){x.a(`BALANCE ${m}`);const n=m-404;D.ga(14<n?14:0<n?n:0)}function b(){if(y){z();f.f(!1);t.f(!1);y=!1;w=[];--m;q=O();var n=q.J(5);t.fa(n,u).then(e);u&&(u=!1);a();v.a("");r.a("");f.a("SUBMIT")}else{z();f.f(!1);t.f(!1);g();{n=t.X();const [A,B]=P(n);n=m+B;m=418<n?418:n;a();v.a(A);B?r.a(`Win ${B}`):r.a("Better luck next time");418===m?C.show(!0):404===m?C.show(!1):
l()}}}function l(){y=!0;e();f.a("PLACE A BET")}function h(n){-1===w.indexOf(n)&&(f.a("DEAL AND SUBMIT"),w.push(n),t.ea(n))}function g(){if(w.length){const n=q.J(w.length),A=w.map((B,F)=>[B,n[F]]);t.da(A)}}function k(n){!y&&n.aa&&0<n.B&&6>n.B?h(n.B-1):n.ca&&b()}const p=Q(function(n){const A=n.i,B=n.o,F=n.I,K=n.$,W=n.U,L=n.V;x.setPosition(n.l/2,n.O);x.H(W);r.setPosition(F+B-A,K);r.H(L);v.setPosition(B,K);v.H(L)}),t=R(function(n){!y&&0<=n&&5>n&&h(n)}),x=S({fill:"white",fontFamily:"Fredoka One"}),r=S({fill:"white",
textAlign:"right"}),v=S({fill:"white",textAlign:"left"}),f=T(b);let m=411,u=!0,q,w,y,z,D,C;return{D:function(n,A){D=U(n,A);C=aa(n,A,c);p.add(t,r,v,f,D,x,C);t.D();f.a("PLACE A BET");a();l();p.start()}}}(N),ca=function(){const d=document.querySelector(".help-outer");let c=!0;return{toggle:function(){c=!c;d.style.display=c?"table":"none"}}}();let V=!1;const X=new Image;X.onload=Y;X.src="assets/teapot_y.svg";const Z=new Image;Z.onload=Y;Z.src="assets/teapot_p.svg";
function Y(){V?(N.subscribe(da),setTimeout(()=>{ba.D(X,Z)},0)):V=!0}function da(d){d.isEscape&&ca.toggle()};function M(){function d(h){const g=Number(h.key),k={};" "===h.key?k.ca=!0:Number.isInteger(g)?(k.B=g,k.aa=!0):k[`is${h.key}`]=!0;b.forEach(p=>{a[p](k)})}function c(h){l=h.timeStamp}function e(h){if(1E3<h.timeStamp-l){const g={ka:!0};b.forEach(k=>{a[k](g)})}}let a={},b=[],l;"ontouchstart"in window?(window.addEventListener("touchstart",c),window.addEventListener("touchend",e)):window.addEventListener("keyup",d);return{subscribe:function(h){const g=Date.now();a[g]=h;b=Object.keys(a);return function(){delete a[g];
b=Object.keys(a)}},reset:function(){a={};b=[]}}};function Q(d){function c(){g.width=window.innerWidth;g.height=window.innerHeight;k.textAlign="center";k.textBaseline="middle";k.lineJoin="round";const f=g.width>g.height,m=g.width,u=g.height;var q=.6;let w=Math.round(u*q),y=Math.round(.66*w),z=Math.round(.06*w),D=5*(y+z);const C=Math.round(.045*u),n=Math.round(.75*C);for(;D>m;)q-=.05,w=Math.round(u*q),y=Math.round(.66*w),z=Math.round(.06*w),D=5*(y+z);q=(u-w)/2;const A={l:m,ch:u,v:w,A:y,i:z,I:D,o:(m-D+z)/2,u:q,O:Math.min(q-2*C,.2*u),R:.8*u,$:q-n,P:Math.round(w*
(f?.2:.4)),U:C,V:n};r.forEach(B=>B.g(A));d(A)}function e(f){const m=a(f);x.forEach(u=>u(m))}function a(f){const m=g.getBoundingClientRect();return{x:f.pageX-m.left,y:f.pageY-m.top}}function b(f){v&&(l(f),k.clearRect(0,0,g.width,g.height),h());requestAnimationFrame(b)}function l(f){t.forEach(m=>m.update(f))}function h(){p.forEach(f=>f.b(k))}const g=document.querySelector("canvas"),k=g.getContext("2d");let p=[],t=[],x=[],r=[],v=!1;g.addEventListener("touchstart",e);g.addEventListener("click",e);window.addEventListener("resize",
c);g.width=window.innerWidth;g.height=window.innerHeight;k.textAlign="center";k.textBaseline="middle";k.lineJoin="round";requestAnimationFrame(b);return{add:function(...f){f.forEach(m=>{p.push(m);"function"===typeof m.m&&x.push(m.m);"function"===typeof m.update&&t.push(m);"function"===typeof m.g&&r.push(m)})},start:function(){c();v=!0},stop:function(){v=!1}}};function O(){const {ja:d,K:c}=J(),e=d.reduce((a,b)=>{const l=c.map(h=>{{const {ia:g,K:k,S:p}=J();h={F:h,M:b,value:k.indexOf(h),ha:g[h+b],color:p[b]}}return h});return[...a,...l]},[]);for(let a=e.length-1;0<a;a--){const b=Math.floor(Math.random()*(a+1));[e[a],e[b]]=[e[b],e[a]]}return{J:function(a){return e.splice(-1*a)}}};function P(d){const {Y:c}=J(),e=[...d].sort(function(g,k){return g.value<k.value?1:g.value>k.value?-1:0});let a=!0,b=!0;const l=e.reduce((g,k,p)=>{a&&0!==p&&(a=k.value===e[p-1].value-1);b&&0!==p&&(b=k.M===e[p-1].M);g[k.F]?g[k.F].push(k):g[k.F]=[k];return g},{});d=c[0];var h=b&&a;h&&l.N&&1===l.N.length?d=c[9]:h?d=c[8]:b?d=c[5]:a?d=c[4]:(h=Object.keys(l).reduce((g,k)=>{g[l[k].length].push(l[k]);return g},{1:[],2:[],3:[],4:[]}),1===h["4"].length?d=c[7]:1===h["2"].length&&1===h["3"].length?d=c[6]:1===
h["3"].length?d=c[3]:2===h["2"].length?d=c[2]:1===h["2"].length&&h["2"][0].every(g=>2<g.value)&&(d=c[1]));return d};function T(d){function c(r,v,f){return r>=Math.min(v,f)&&r<=Math.max(v,f)}let e=!1,a,b,l,h,g,k,p,t,x="";return{b:function(r){r.save();r.fillStyle="#C35B68";r.L(a,b,g,k,p);r.fill();r.fillStyle="#DCB600";r.font=`${t}px "Fredoka One"`;r.fillText(x,l,h);r.restore()},a:function(r){x=r},m:function(r){var v;if(v=e)v=c(r.x,a,a+g)&&c(r.y,b,b+k);v&&d()},f:function(r){e=r},g:function({o:r,R:v,P:f,l:m,I:u,i:q}){a=r;b=v;l=m/2;h=v+f/2;g=u-q;k=f;p=Math.round(.1*k);t=Math.round(.66*k)}}};function R(d){let c=[],e=!1;return{b:function(a){c.forEach(b=>b.b(a))},ea:function(a){c[a].j(.16)},da:function(a){a.forEach(([b,l])=>{c[b].G(l);c[b].j(.16)})},X:function(){return c.map(a=>a.W())},fa:function(a,b){if(b)return c.reduce((l,h,g)=>l.then(()=>{h.G(a[g]);return h.j(.24)}),Promise.resolve());b=c.map((l,h)=>{l.G(a[h]);return l.j(.16)});return Promise.all(b).then(()=>c.reduce((l,h)=>l.then(()=>h.j(.24)),Promise.resolve()))},C:function(){c.forEach(a=>a.C())},D:function(){c=Array.from({length:5},
()=>ea())},m:function(a){if(e){let b=0;for(;5>b&&!c[b].ba(a);b++);d(b)}},f:function(a){e=a},update:function(){c.forEach(a=>a.update())},g:function({v:a,A:b,i:l,o:h,u:g}){c.forEach((k,p)=>{k.g({T:h+p*(b+l),v:a,A:b,i:l,u:g})})}}};function ea(){function d(f,m,u){return f>=Math.min(m,u)&&f<=Math.max(m,u)}let c,e,a,b,l,h,g,k=!0,p=!1,t=1,x=-.16,r=()=>{};const v=navigator.userAgent.includes("Firefox");return{b:function(f){f.save();const m=b/2;f.translate(e+m,a);f.scale(t,1);f.fillStyle="white";f.L(-1*m,0,b,l-g,g);f.fill();f.font=`${l}px system`;f.textBaseline="top";f.textAlign="left";f.fillStyle=k?"#DCB600":c.color;f.fillText(k?"\ud83c\udca0":c.ha,-1*m,h);f.restore()},j:function(f){x=-1*f;p=!0;return new Promise(m=>{r=m})},C:function(){k=
!0},G:function(f){c=f},W:function(){return c},ba:function(f){return d(f.x,e,e+b)&&d(f.y,a,a+l)},update:function(){p&&(t+=x,0>=t?(t=0,x*=-1,k=!k):1<=t&&(t=1,x*=-1,p=!1,r()))},g:function({T:f,v:m,A:u,i:q,u:w}){a=w;e=f;b=u;l=m;h=v?q/2:q;g=q/2}}};function aa(d,c,e){let a,b,l,h,g,k,p,t,x=!1,r=!1,v=!1,f=0,m=0,u=()=>{};return{b:function(q){if(r){const w=x?"#668706":"#DCB600",y=x?"YOU WON":"YOU LOSE",z=x?d:c;q.save();q.globalAlpha=f;q.fillStyle=w;q.fillRect(0,0,h,g);q.save();q.translate(p,t);q.scale(k,k);q.globalAlpha=m;q.drawImage(z,0,0);q.restore();1===f&&(q.font=`${l}px "Fredoka One"`,q.fillText(y,h/2,g/2+l/2));q.restore()}},show:function(q){x=q;return new Promise(w=>{u=w;setTimeout(()=>{v=r=!0},1E3)})},Z:function(){return new Promise(q=>{u=
q;v=!1})},g:function({l:q,ch:w}){const y=Math.min(q,w);l=Math.round(.12*y);h=q;g=w;k=1;a=d.width*k;for(b=d.height*k;a>1.08*y;)k-=.002,a=d.width*k,b=d.height*k;p=(q-a)/2;t=(w-b)/2},update:function(){r&&(v?1===f?(m+=.01,1<=m&&(m=1,u())):(f+=.02,1<=f&&(f=1)):0===m?(f-=.02,0>=f&&(f=0,u())):(m-=.01,0>=m&&(m=0)))},m:function(){1===m&&e()}}};function U(d,c){let e,a,b,l;return{b:function(h){h.save();h.scale(b,b);for(let g=0;14>g;g++)h.drawImage(g<e?d:c,(a*g+(a/2-l/2))/b,0);h.restore()},ga:function(h){e=h},g:function({l:h}){a=h/14;b=.06;for(l=d.width*b;l>a;)b-=.002,l=d.width*b}}};function S(d){let c="",e,a,b,{fill:l,stroke:h,textAlign:g,fontFamily:k="system"}=d;return{b:function(p){p.save();p.font=`${b}px ${k}`;p.fillStyle=l;g&&(p.textAlign=g);p.fillText(c,e,a);h&&(p.strokeStyle=h,p.strokeText(c,e,a));p.restore()},a:function(p){c=p},setPosition:function(p,t){e=p;a=t},H:function(p){b=p},la:function(){}}};
